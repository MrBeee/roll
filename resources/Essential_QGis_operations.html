<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'><style type='text/css'>html {overflow-x: initial !important;}</style>
<style type='text/css'  id="style-base">:root { --bg-color: #ffffff; --text-color: #333333; --select-text-bg-color: #B5D6FC; --select-text-font-color: auto; --monospace: "Lucida Console",Consolas,"Courier",monospace; --title-bar-height: 20px; }
.mac-os-11 { --title-bar-height: 28px; }
html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, "Segoe UI Emoji", "SF Pro", sans-serif; -webkit-font-smoothing: antialiased; }
h1, h2, h3, h4, h5 { white-space: pre-wrap; }
body { margin: 0px; padding: 0px; height: auto; inset: 0px; font-size: 1rem; line-height: 1.42857; overflow-x: hidden; background: inherit; }
iframe { margin: auto; }
a.url { word-break: break-all; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { text-shadow: none; background: var(--select-text-bg-color); color: var(--select-text-font-color); }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; overflow-wrap: break-word; position: relative; white-space: normal; overflow-x: visible; padding-top: 36px; }
#write.first-line-indent p { text-indent: 2em; }
#write.first-line-indent li p, #write.first-line-indent p *, #write.first-line-indent svg * { text-indent: 0px; }
#write.first-line-indent li { margin-left: 2em; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
.typora-export .footnote-line, .typora-export li, .typora-export p { white-space: pre-wrap; }
.typora-export .task-list-item input { pointer-events: none; }
@media screen and (max-width: 500px) {
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  #write { padding-left: 20px; padding-right: 20px; }
}
#write li > figure:last-child { margin-bottom: 0.5rem; }
#write ol, #write ul { position: relative; }
img { max-width: 100%; vertical-align: middle; image-orientation: from-image; }
button, input, select, textarea { color: inherit; font: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
*, ::after, ::before { box-sizing: border-box; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: inherit; position: relative; }
#write svg h1, #write svg h2, #write svg h3, #write svg h4, #write svg h5, #write svg h6, #write svg p { position: static; white-space: nowrap; overflow: visible; }
foreignobject { overflow: visible; }
p { line-height: inherit; }
h1, h2, h3, h4, h5, h6 { break-after: avoid-page; break-inside: avoid; orphans: 4; }
p { orphans: 4; }
li p { orphans: 1; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
.md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p { margin-top: 1rem; margin-bottom: 1rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: 700; font-style: italic; }
a { cursor: pointer; }
sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.7); color: rgb(85, 85, 85); border-radius: 4px; cursor: pointer; }
sup.md-footnote a, sup.md-footnote a:hover { color: inherit; text-transform: inherit; text-decoration: inherit; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; }
figure { overflow-x: auto; margin: 1.2em 0px; max-width: calc(100% + 16px); padding: 0px; }
figure > table { margin: 0px; }
thead, tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 32px; }
.CodeMirror-gutters { border-right: 0px; background-color: inherit; }
.CodeMirror-linenumber { user-select: none; }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
#write pre { white-space: pre-wrap; }
#write.fences-no-line-wrapping pre { white-space: pre; }
#write pre.ty-contain-cm { white-space: normal; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background: inherit; position: relative !important; }
.md-fences-adv-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
#write .md-fences.mock-cm { white-space: pre-wrap; }
.md-fences.md-fences-with-lineno { padding-left: 0px; }
#write.fences-no-line-wrapping .md-fences.mock-cm { white-space: pre; overflow-x: auto; }
.md-fences.mock-cm.md-fences-with-lineno { padding-left: 8px; }
.CodeMirror-line, twitterwidget { break-inside: avoid; }
svg { break-inside: avoid; }
.footnotes { opacity: 0.8; font-size: 0.9rem; margin-top: 1em; margin-bottom: 1em; }
.footnotes + .footnotes { margin-top: 0px; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; background: 0px 0px; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; -webkit-tap-highlight-color: transparent; line-height: normal; font-weight: 400; text-align: left; box-sizing: content-box; direction: ltr; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li .mathjax-block, li p { margin: 0.5rem 0px; }
li blockquote { margin: 1rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child, li > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; white-space: normal; }
#write .footnote-line { white-space: pre-wrap; }
@media print {
  body, html { border: 1px solid transparent; height: 99%; break-after: avoid; break-before: avoid; font-variant-ligatures: no-common-ligatures; }
  #write { margin-top: 0px; border-color: transparent !important; padding-top: 0px !important; padding-bottom: 0px !important; }
  .typora-export * { -webkit-print-color-adjust: exact; }
  .typora-export #write { break-after: avoid; }
  .typora-export #write::after { height: 0px; }
  .is-mac table { break-inside: avoid; }
  #write > p:nth-child(1) { margin-top: 0px; }
  .typora-export-show-outline .typora-export-sidebar { display: none; }
  figure { overflow-x: visible; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 0.8rem; white-space: pre-wrap; background: rgb(204, 204, 204); display: block; overflow-x: hidden; }
p > .md-image:only-child:not(.md-img-error) img, p > img:only-child { display: block; margin: auto; }
#write.first-line-indent p > .md-image:only-child:not(.md-img-error) img { left: -2em; position: relative; }
p > .md-image:only-child { display: inline-block; width: 100%; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.md-math-block { width: 100%; }
.md-math-block:not(:empty)::after { display: none; }
.MathJax_ref { fill: currentcolor; }
[contenteditable="true"]:active, [contenteditable="true"]:focus, [contenteditable="false"]:active, [contenteditable="false"]:focus { outline: 0px; box-shadow: none; }
.md-task-list-item { position: relative; list-style-type: none; }
.task-list-item.md-task-list-item { padding-left: 0px; }
.md-task-list-item > input { position: absolute; top: 0px; left: 0px; margin-left: -1.2em; margin-top: calc(1em - 10px); border: none; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc-content::after, .md-toc::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); }
.md-toc-item a { text-decoration: none; }
.md-toc-inner:hover { text-decoration: underline; }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: 700; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) {
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.reversefootnote { font-family: ui-monospace, sans-serif; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
code, pre, samp, tt { font-family: var(--monospace); }
kbd { margin: 0px 0.1em; padding: 0.1em 0.6em; font-size: 0.8em; color: rgb(36, 39, 41); background: rgb(255, 255, 255); border: 1px solid rgb(173, 179, 185); border-radius: 3px; box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset; white-space: nowrap; vertical-align: middle; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.6; font-family: var(--monospace); }
code { text-align: left; vertical-align: initial; }
a.md-print-anchor { white-space: pre !important; border-width: initial !important; border-style: none !important; border-color: initial !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: 0px !important; background: 0px 0px !important; text-decoration: initial !important; text-shadow: initial !important; }
.os-windows.monocolor-emoji .md-emoji { font-family: "Segoe UI Symbol", sans-serif; }
.md-diagram-panel > svg { max-width: 100%; }
[lang="flow"] svg, [lang="mermaid"] svg { max-width: 100%; height: auto; }
[lang="mermaid"] .node text { font-size: 1rem; }
table tr th { border-bottom: 0px; }
video { max-width: 100%; display: block; margin: 0px auto; }
iframe { max-width: 100%; width: 100%; border: none; }
.highlight td, .highlight tr { border: 0px; }
mark { background: rgb(255, 255, 0); color: rgb(0, 0, 0); }
.md-html-inline .md-plain, .md-html-inline strong, mark .md-inline-math, mark strong { color: inherit; }
.md-expand mark .md-meta { opacity: 0.3 !important; }
mark .md-meta { color: rgb(0, 0, 0); }
@media print {
  .typora-export h1, .typora-export h2, .typora-export h3, .typora-export h4, .typora-export h5, .typora-export h6 { break-inside: avoid; }
}
.md-diagram-panel .messageText { stroke: none !important; }
.md-diagram-panel .start-state { fill: var(--node-fill); }
.md-diagram-panel .edgeLabel rect { opacity: 1 !important; }
.md-fences.md-fences-math { font-size: 1em; }
.md-fences-advanced:not(.md-focus) { padding: 0px; white-space: nowrap; border: 0px; }
.md-fences-advanced:not(.md-focus) { background: inherit; }
.mermaid-svg { margin: auto; }
.typora-export-show-outline .typora-export-content { max-width: 1440px; margin: auto; display: flex; flex-direction: row; }
.typora-export-sidebar { width: 300px; font-size: 0.8rem; margin-top: 80px; margin-right: 18px; }
.typora-export-show-outline #write { --webkit-flex: 2; flex: 2 1 0%; }
.typora-export-sidebar .outline-content { position: fixed; top: 0px; max-height: 100%; overflow: hidden auto; padding-bottom: 30px; padding-top: 60px; width: 300px; }
@media screen and (max-width: 1024px) {
  .typora-export-sidebar, .typora-export-sidebar .outline-content { width: 240px; }
}
@media screen and (max-width: 800px) {
  .typora-export-sidebar { display: none; }
}
.outline-content li, .outline-content ul { margin-left: 0px; margin-right: 0px; padding-left: 0px; padding-right: 0px; list-style: none; overflow-wrap: anywhere; }
.outline-content ul { margin-top: 0px; margin-bottom: 0px; }
.outline-content strong { font-weight: 400; }
.outline-expander { width: 1rem; height: 1.42857rem; position: relative; display: table-cell; vertical-align: middle; cursor: pointer; padding-left: 4px; }
.outline-expander::before { content: ""; position: relative; font-family: Ionicons; display: inline-block; font-size: 8px; vertical-align: middle; }
.outline-item { padding-top: 3px; padding-bottom: 3px; cursor: pointer; }
.outline-expander:hover::before { content: ""; }
.outline-h1 > .outline-item { padding-left: 0px; }
.outline-h2 > .outline-item { padding-left: 1em; }
.outline-h3 > .outline-item { padding-left: 2em; }
.outline-h4 > .outline-item { padding-left: 3em; }
.outline-h5 > .outline-item { padding-left: 4em; }
.outline-h6 > .outline-item { padding-left: 5em; }
.outline-label { cursor: pointer; display: table-cell; vertical-align: middle; text-decoration: none; color: inherit; }
.outline-label:hover { text-decoration: underline; }
.outline-item:hover { border-color: rgb(245, 245, 245); background-color: var(--item-hover-bg-color); }
.outline-item:hover { margin-left: -28px; margin-right: -28px; border-left: 28px solid transparent; border-right: 28px solid transparent; }
.outline-item-single .outline-expander::before, .outline-item-single .outline-expander:hover::before { display: none; }
.outline-item-open > .outline-item > .outline-expander::before { content: ""; }
.outline-children { display: none; }
.info-panel-tab-wrapper { display: none; }
.outline-item-open > .outline-children { display: block; }
.typora-export .outline-item { padding-top: 1px; padding-bottom: 1px; }
.typora-export .outline-item:hover { margin-right: -8px; border-right: 8px solid transparent; }
.typora-export .outline-expander::before { content: "+"; font-family: inherit; top: -1px; }
.typora-export .outline-expander:hover::before, .typora-export .outline-item-open > .outline-item > .outline-expander::before { content: "−"; }
.typora-export-collapse-outline .outline-children { display: none; }
.typora-export-collapse-outline .outline-item-open > .outline-children, .typora-export-no-collapse-outline .outline-children { display: block; }
.typora-export-no-collapse-outline .outline-expander::before { content: "" !important; }
.typora-export-show-outline .outline-item-active > .outline-item .outline-label { font-weight: 700; }
.md-inline-math-container mjx-container { zoom: 0.95; }
mjx-container { break-inside: avoid; }
.md-alert.md-alert-note { border-left-color: rgb(9, 105, 218); }
.md-alert.md-alert-important { border-left-color: rgb(130, 80, 223); }
.md-alert.md-alert-warning { border-left-color: rgb(154, 103, 0); }
.md-alert.md-alert-tip { border-left-color: rgb(31, 136, 61); }
.md-alert.md-alert-caution { border-left-color: rgb(207, 34, 46); }
.md-alert { padding: 0px 1em; margin-bottom: 16px; color: inherit; border-left: 0.25em solid rgb(0, 0, 0); }
.md-alert-text-note { color: rgb(9, 105, 218); }
.md-alert-text-important { color: rgb(130, 80, 223); }
.md-alert-text-warning { color: rgb(154, 103, 0); }
.md-alert-text-tip { color: rgb(31, 136, 61); }
.md-alert-text-caution { color: rgb(207, 34, 46); }
.md-alert-text { font-size: 0.9rem; font-weight: 700; }
.md-alert-text svg { fill: currentcolor; position: relative; top: 0.125em; margin-right: 1ch; overflow: visible; }
.md-alert-text-container::after { content: attr(data-text); text-transform: capitalize; pointer-events: none; margin-right: 1ch; }

</style>
<link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,700,400&amp;subset=latin,latin-ext' type='text/css' />
<style type='text/css'  id="style-theme_css">:root {
    --side-bar-bg-color: #fafafa;
    --control-text-color: #777;
}

@include-when-export url(https://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext);

/* open-sans-regular - latin-ext_latin */
  /* open-sans-italic - latin-ext_latin */
    /* open-sans-700 - latin-ext_latin */
    /* open-sans-700italic - latin-ext_latin */
  html {
    font-size: 16px;
    -webkit-font-smoothing: antialiased;
}

body {
    font-family: "Open Sans","Clear Sans", "Helvetica Neue", Helvetica, Arial, 'Segoe UI Emoji', 'SF Pro', sans-serif;
    color: rgb(51, 51, 51);
    line-height: 1.6;
}

#write {
    max-width: 860px;
  	margin: 0 auto;
  	padding: 30px;
    padding-bottom: 100px;
}

@media only screen and (min-width: 1400px) {
	#write {
		max-width: 1024px;
	}
}

@media only screen and (min-width: 1800px) {
	#write {
		max-width: 1200px;
	}
}

#write > ul:first-child,
#write > ol:first-child{
    margin-top: 30px;
}

a {
    color: #4183C4;
}
h1,
h2,
h3,
h4,
h5,
h6 {
    position: relative;
    margin-top: 1rem;
    margin-bottom: 1rem;
    font-weight: bold;
    line-height: 1.4;
    cursor: text;
}
h1:hover a.anchor,
h2:hover a.anchor,
h3:hover a.anchor,
h4:hover a.anchor,
h5:hover a.anchor,
h6:hover a.anchor {
    text-decoration: none;
}
h1 tt,
h1 code {
    font-size: inherit;
}
h2 tt,
h2 code {
    font-size: inherit;
}
h3 tt,
h3 code {
    font-size: inherit;
}
h4 tt,
h4 code {
    font-size: inherit;
}
h5 tt,
h5 code {
    font-size: inherit;
}
h6 tt,
h6 code {
    font-size: inherit;
}
h1 {
    font-size: 2.25em;
    line-height: 1.2;
    border-bottom: 1px solid #eee;
}
h2 {
    font-size: 1.75em;
    line-height: 1.225;
    border-bottom: 1px solid #eee;
}

/*@media print {
    .typora-export h1,
    .typora-export h2 {
        border-bottom: none;
        padding-bottom: initial;
    }

    .typora-export h1::after,
    .typora-export h2::after {
        content: "";
        display: block;
        height: 100px;
        margin-top: -96px;
        border-top: 1px solid #eee;
    }
}*/

h3 {
    font-size: 1.5em;
    line-height: 1.43;
}
h4 {
    font-size: 1.25em;
}
h5 {
    font-size: 1em;
}
h6 {
   font-size: 1em;
    color: #777;
}
p,
blockquote,
ul,
ol,
dl,
table{
    margin: 0.8em 0;
}
li>ol,
li>ul {
    margin: 0 0;
}
hr {
    height: 2px;
    padding: 0;
    margin: 16px 0;
    background-color: #e7e7e7;
    border: 0 none;
    overflow: hidden;
    box-sizing: content-box;
}

li p.first {
    display: inline-block;
}
ul,
ol {
    padding-left: 30px;
}
ul:first-child,
ol:first-child {
    margin-top: 0;
}
ul:last-child,
ol:last-child {
    margin-bottom: 0;
}
blockquote {
    border-left: 4px solid #dfe2e5;
    padding: 0 15px;
    color: #777777;
}
blockquote blockquote {
    padding-right: 0;
}
table {
    padding: 0;
    word-break: initial;
}
table tr {
    border: 1px solid #dfe2e5;
    margin: 0;
    padding: 0;
}
table tr:nth-child(2n),
thead {
    background-color: #f8f8f8;
}
table th {
    font-weight: bold;
    border: 1px solid #dfe2e5;
    border-bottom: 0;
    margin: 0;
    padding: 6px 13px;
}
table td {
    border: 1px solid #dfe2e5;
    margin: 0;
    padding: 6px 13px;
}
table th:first-child,
table td:first-child {
    margin-top: 0;
}
table th:last-child,
table td:last-child {
    margin-bottom: 0;
}

.CodeMirror-lines {
    padding-left: 4px;
}

.code-tooltip {
    box-shadow: 0 1px 1px 0 rgba(0,28,36,.3);
    border-top: 1px solid #eef2f2;
}

.md-fences,
code,
tt {
    border: 1px solid #e7eaed;
    background-color: #f8f8f8;
    border-radius: 3px;
    padding: 0;
    padding: 2px 4px 0px 4px;
    font-size: 0.9em;
}

code {
    background-color: #f3f4f4;
    padding: 0 2px 0 2px;
}

.md-fences {
    margin-bottom: 15px;
    margin-top: 15px;
    padding-top: 8px;
    padding-bottom: 6px;
}


.md-task-list-item > input {
  margin-left: -1.3em;
}

@media print {
    html {
        font-size: 13px;
    }
    pre {
        page-break-inside: avoid;
        word-wrap: break-word;
    }
}

.md-fences {
	background-color: #f8f8f8;
}
#write pre.md-meta-block {
	padding: 1rem;
    font-size: 85%;
    line-height: 1.45;
    background-color: #f7f7f7;
    border: 0;
    border-radius: 3px;
    color: #777777;
    margin-top: 0 !important;
}

.mathjax-block>.code-tooltip {
	bottom: .375rem;
}

.md-mathjax-midline {
    background: #fafafa;
}

#write>h3.md-focus:before{
	left: -1.5625rem;
	top: .375rem;
}
#write>h4.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h5.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h6.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
.md-image>.md-meta {
    /*border: 1px solid #ddd;*/
    border-radius: 3px;
    padding: 2px 0px 0px 4px;
    font-size: 0.9em;
    color: inherit;
}

.md-tag {
    color: #a7a7a7;
    opacity: 1;
}

.md-toc { 
    margin-top:20px;
    padding-bottom:20px;
}

.sidebar-tabs {
    border-bottom: none;
}

#typora-quick-open {
    border: 1px solid #ddd;
    background-color: #f8f8f8;
}

#typora-quick-open-item {
    background-color: #FAFAFA;
    border-color: #FEFEFE #e5e5e5 #e5e5e5 #eee;
    border-style: solid;
    border-width: 1px;
}

/** focus mode */
.on-focus-mode blockquote {
    border-left-color: rgba(85, 85, 85, 0.12);
}

header, .context-menu, .megamenu-content, footer{
    font-family: "Segoe UI", "Arial", sans-serif;
}

.file-node-content:hover .file-node-icon,
.file-node-content:hover .file-node-open-state{
    visibility: visible;
}

.mac-seamless-mode #typora-sidebar {
    background-color: #fafafa;
    background-color: var(--side-bar-bg-color);
}

.mac-os #write{
    caret-color: AccentColor;
}

.md-lang {
    color: #b4654d;
}

/*.html-for-mac {
    --item-hover-bg-color: #E6F0FE;
}*/

#md-notification .btn {
    border: 0;
}

.dropdown-menu .divider {
    border-color: #e5e5e5;
    opacity: 0.4;
}

.ty-preferences .window-content {
    background-color: #fafafa;
}

.ty-preferences .nav-group-item.active {
    color: white;
    background: #999;
}

.menu-item-container a.menu-style-btn {
    background-color: #f5f8fa;
    background-image: linear-gradient( 180deg , hsla(0, 0%, 100%, 0.8), hsla(0, 0%, 100%, 0)); 
}
</style>
<style type='text/css'  id="style-lp">ol, ul {padding-left: 40px}</style>

<title>Essential_QGis_operations</title>
</head>
<body class='typora-export os-windows'><div class='typora-export-content'>
<div id='write'  class=''><h1 id='essential-qgis-operations-with-roll'><span>Essential QGIS operations with &#39;Roll&#39;</span></h1><p><span>This brief document describes the various steps required for the Roll-plugin to work together with the main QGIS application in transferring data across, calculating attributes in Roll, and rendering the results in QGIS. </span></p><p><em><span>The document has been created as a mark-down file (.md) using Typora and is subsequently exported as an html file that preserves the various chapter styles</span></em></p><h2 id='1-add-a-point-layer'><span>1. Add a Point Layer</span></h2><p><span>Adding a point layer may be needed to show the requested survey outline from a client (Area of interest), or a prospect outline from the geologist</span></p><ol start='' ><li><p><span>In QGIS: Layer → Add layer → Add delimited text layer</span></p></li><li><p><span>Select filename</span></p></li><li><p><span>Optionally, give it a layer name that is different from the file name</span></p></li><li><p><span>Check File Format</span></p></li><li><p><span>Check Record and Field Options (For header lines etc.)</span></p></li><li><p><span>Define columns that represent X, Y and optionally Z values</span></p></li><li><p><span>Finally, select </span><code>Add</code></p></li><li><p><span>Using Full Zoom </span><img src="mActionZoomFullExtent.svg" alt="mActionZoomFullExtent" style="zoom:100%;" /><span> (Ctrl+Shift+F) in QGIS, you can now zoom to these points on the map</span></p></li></ol><h2 id='2-create-a-line-layer-from-points-vertices'><span>2. Create a Line layer from Points (Vertices)</span></h2><p><span>Once a point layer has been created, you can find them as a series of “small dots” in QGIS. But these “dots” are hard to spot once you zoom out. It is therefore useful to turn these points into connected lines. It is also a step that is required to create (filled) polygons from (</span><em><span>the next step</span></em><span>).</span></p><ol start='' ><li><p><span>In QGIS: Processing → Toolbox will show (or hide) the Processing Toolbox</span></p></li><li><p><span>Processing Toolbox </span><strong><span>→</span></strong><span> Vector creation → Points to path</span></p></li><li><p><span>Select Input layer</span></p></li><li><p><span>Create closed path (optionally)</span></p></li><li><p><span>Then, select </span><code>Run</code><span> to create a multi-line layer in the order the points have been listed</span></p></li></ol><h2 id='3-create-a-filled-polygon-layer-from-lines'><span>3. Create a (filled) Polygon Layer from Lines</span></h2><p><span>The lines are much better visible than individual points, but you cannot </span><em><span>fill</span></em><span> a line layer, and more importantly you cannot </span><em><span>clip</span></em><span> against a line layer; for this we need </span><em><strong><span>polygons</span></strong></em><span>. Therefore we need to convert the lines to a polygon.</span></p><ol start='' ><li><p><span>In QGIS: Processing → Toolbox will show (or hide) the Processing Toolbox</span></p></li><li><p><span>Processing Toolbox → Vector geometry → Lines to polygons</span></p></li><li><p><span>Select Input layer</span></p></li><li><p><span>Then, select </span><code>Run</code><span> to create a filled polygon</span></p></li><li><p><span>Double-click the polygon to show the Layer Properties</span></p></li><li><p><span>Under </span><code>Symbology</code><span> adjust the Color to a meaningful color</span></p></li><li><p><span>Reduce Opacity to less than 100% to see features in underlying layers</span></p></li><li><p><span>You can also add an outline to the polygon. To do so:</span></p></li></ol><p><span>	</span><span>a.   Add a Symbol Layer by pressing the green </span><code>Plus</code><span> Icon</span></p><p><span>	</span><span>b.   For symbol layer type select: </span><code>Outline: Simple Line</code><span> (Sits at the bottom of the list)</span></p><p><span>	</span><span>c.   Select appropriate color and Stroke width</span></p><p><span>	</span><span>d.   Select </span><strong><code>OK</code></strong></p><ol start='9' ><li><p><span>Finally, in Layers Panel → context menu of the created layer → Make permanent</span></p></li><li><p><span>When an outline has been added to the polygon; you may delete the line layer. The line layer served its purpose (creating a polygon) and is no longer needed for the following steps, where we edit the exported src/rec and sps/rps data in QGIS.</span></p></li></ol><h2 id='4-export-srcrec-and-spsrps-data-from-roll-to-qgis'><span>4. Export src/rec and sps/rps data from Roll to QGIS</span></h2><ol start='' ><li><p><span>In Roll: File → Export to QGIS→ Export Geometry → Export xxx Records to QGIS</span></p></li><li><p><span>Alternatively: SPS import tab → Export to QGIS buttons for SPS and RPS records</span></p></li><li><p><span>Alternatively: Geometry tab → Export to QGIS buttons for SRC and REC records</span></p></li><li><p><span>This will create in-memory (“scratch”) layers in QGIS with the exported data</span></p></li></ol><h2 id='5-make-scratch-srcrec-and-spsrps-layers-permanent'><span>5. Make scratch src/rec and sps/rps layers permanent</span></h2><p><span>To make the exported source and receiver data permanent, and available when you open the QGISproject the next time, follow the steps below</span></p><ol start='' ><li><p><span>in Layers Panel → context menu of the scratch layer → Rename layer</span></p></li><li><p><span>Use Ctrl+C to copy the layer name. Hit escape, and do not rename</span></p></li><li><p><span>in Layers Panel → context menu of the scratch layer → Make Permanent</span></p></li><li><p><span>Alternatively → push the ‘scratch’ button on the right side of the layer’s name</span></p></li><li><p><span>Select ESRI Shapefile as file format</span></p></li><li><p><span>Select ellipses ( … ) next to filename → navigate to desired file location in the dialog</span></p></li><li><p><span>Paste the “filename” from clipboard in the dialog’s </span><code>File name</code><span> field</span></p></li><li><p><span>Select ok. The layer is now permanent, and will be restored if the project is opened again.</span></p></li></ol><h2 id='6-truncate-srcrec-and-spsrps-point-areas-in-qgis'><span>6. Truncate src/rec and sps/rps point areas in QGIS</span></h2><p><span>In Roll, survey geometry created is created using one or more rectangular blocks. In reality, a survey rarely consists of one or more rectangular shapes, but its outline is truncated according to the concession boundary, or impacted by features such as cities, lakes, etcetera. So, it will be necessary to cut (completely remove) or to switch off (mute) points in certain areas. In QGISthis can be done by checking if points fall inside a polygon. There are two obvious solutions:</span></p><h4 id='6a-clipping-the-easy-way-out'><span>6.a. Clipping: the easy way out</span></h4><p><span>Clipping will remove all points outside a selected polygonal area. It is quick and easy, but won’t allow for points to be reinstated at a later stage; gone-is-gone. This can be cumbersome when the survey area is being finetuned over several iterations. Steps are straightforward:</span></p><ol start='' ><li><p><span>Vector → Geoprocessing Tools → Clip …</span></p></li><li><p><span>Select Input layer: the layer containing SRC/REC or SPS/RPS points</span></p></li><li><p><span>Select Overlay layer: the layer with the boundary polygon</span></p></li><li><p><span>Select Run</span></p></li><li><p><span>The clipped point layer is now created as a scratch layer.</span></p></li></ol><h4 id='6b-clipping-future-proofing-your-edits'><span>6.b. Clipping: future proofing your edits</span></h4><p><span>This approach first selects all points that lay inside a polygon, and is followed by turning the selection flag into a permanent attribute value (normally applied to </span><code>inuse</code><span>)</span></p><ol start='' ><li><p><span>Vector → Research Tools → Select by Location …</span></p></li><li><p><span>Select features from: chose appropriate SPS/RPS or SRC/REC point layer</span></p></li><li><p><span>For features use: </span><code>are within</code><span> (and optionally </span><code>touch</code><span>) relative to the boundary polygon</span></p></li><li><p><span>Select the appropriate polygon layer</span></p></li><li><p><span>Create a new selection</span></p></li><li><p><span>Then, select </span><code>Run</code><span> to create a selection of points inside a polygon</span></p></li><li><p><span>These points will be highlighted in yellow and marked with a red cross</span></p></li><li><p><span>Now from the Attributes toolbar → Open Field Calculator</span></p></li><li><p><span>Alternatively: First open the Attribute Table </span><img src="mActionOpenTable.svg" alt="mActionOpenTable"><span> (F6), and then open the Field Calculator </span><img src="mActionCalculateField.svg" alt="mActionCalculateField"><span> (Ctrl+I)</span></p></li><li><p><span>Uncheck </span><strong><code>Only update xxx selected feature(s)</code></strong><span>. We need to update </span><strong><span>all features</span></strong><span>, also those that have not been selected. If you forget to do so, only the already selected records will be altered, and in the unselected fields a NULL value will entered.</span></p></li><li><p><span>Now, either:</span></p></li></ol><p><span>	</span><span>a.   Create a new Field, with a 32-bit integer and use the default field length, or</span></p><p><span>	</span><span>b.   Update an existing integer field, such as the </span><code>inuse</code><span> field, already created by Roll</span></p><ol start='12' ><li><p><span>In the Expression widget type the following:  </span><strong><code>is_selected()</code></strong></p></li></ol><p><span>This function returns true (=1), when a point record has been selected, and false (=0) otherwise.</span></p><ol start='13' ><li><p><span>Press </span><strong><code>OK</code></strong><span> and let the operation run on all point records of the active layer.</span></p></li><li><p><span>Upon completion, check that everything went according to plan in the Attribute Table (F6)</span></p></li><li><p><span>Now the point layer is ready to be read back into Roll (See par above). </span></p></li></ol><h2 id='7-move-srcrec-and-spsrps-points-around-in-qgis'><span>7. Move src/rec and sps/rps points around in QGIS</span></h2><p><span>To make changes to any of the layers you need to enable editing. To do so:</span></p><ol start='' ><li><p><span>in Layers Panel → context menu of the layer with point data from Roll → Toggle editing</span></p></li><li><p><span>A pencil icon will appear left of the layer name.</span></p></li><li><p><span>The pencil on the digitizing toolbar will also be highlighted.</span></p></li><li><p><span>In the digitizing toolbar select the Vertex tool for the current layer. This allows you to manipulate vertices on the active layer using one of the following methods:</span></p></li></ol><p><span>	</span><span>·    Right click to lock on a feature</span></p><p><span>	</span><span>·    Click and drag to select vertices by rectangle</span></p><p><span>	</span><span>·    Alt+click to select vertices by polygon</span></p><p><span>	</span><span>·    Shift+click/drag to add vertices to selection</span></p><p><span>	</span><span>·    Ctrl+click/drag to remove vertices from selection</span></p><p><span>	</span><span>·    Shift+R to enable range selection</span></p><h2 id='8-read-srcrec-and-spsrps-points-from-qgis-back-into-roll'><span>8. Read src/rec and sps/rps points from QGIS back into Roll</span></h2><p><span>Once changes have been made to overall source/receiver areas and individual point locations in QGIS(</span><em><span>or when points have been deleted</span></em><span>) it can be useful to read these points back into Roll, to run the analysis </span><code>Binning from Geometry</code><span>, or alternatively `binning from imported SPS&#39; in the processing menu. To load modified point data back into Roll:</span></p><ol start='' ><li><p><span>In Roll: Geometry tab → </span><code>Read from QGIS</code><span> buttons (for SRC and REC data separately)</span></p></li><li><p><span>In Roll: SPS import tab → </span><code>Read from QGIS</code><span> buttons (for SPS and RPS data separately)</span></p></li><li><p><span>In the layer dialog that pops up:</span></p></li></ol><p><span>	</span><span>a.   Select the correct point layer from QGIS, containing SPS/RPS and SRC/REC data</span></p><p><span>	</span><span>b.   Check that the CRS of the selected point layer matches that of the Roll project</span></p><p><span>	</span><span>c.   Decide whether (or not) to use a selection field code. Normally this is the </span><code>inuse</code><span> field.</span></p><p><span>	</span><span>d.   To see what fields are available in a point layer in QGIS, you can:</span></p><p><span>                i.   In Layers panel → Select the appropriate layer</span></p><p><span>                ii.   In context menu → Open Attribute Table (Shift+F6)</span></p><p><span>               iii.   Check column headers. Roll expects the following fields:</span>
<span>​</span><span>			</span><code>line</code><span>, </span><code>stake</code><span>,</span><code>index</code><span>, </span><code>code</code><span>, </span><code>depth</code><span>, </span><code>elev</code><span> and </span><code>inuse</code></p><p><span>               iv.   </span><code>inuse</code><span> = 0 is used to deselect a point for analysis in Roll</span></p><p><span>                v.   Integer fields other than </span><code>inuse</code><span> may also be used to select active/passive points in Roll. See next paragraph</span></p><h3 id='9-process-data---edited-in-qgis---back-in-roll--show-results-in-qgis'><span>9. Process data - </span><em><span>edited in QGIS</span></em><span> - back in Roll &amp; show results in QGIS</span></h3><p><span>Now that the edited Geometry/SPS data has been copied back to Roll:</span></p><ol start='' ><li><p><span>In Roll’s processing menu → Binning from Geometry or Binning from Imported SPS</span></p></li><li><p><span>It is essential to make a well-considered decision whether to use the </span><strong><span>Full</span></strong><span> or </span><strong><span>Basic</span></strong><span> binning options</span></p><ol start='' ><li><p><strong><span>Full binning</span></strong><span> creates the </span><code>Rms Offset map</code><span>, as well as </span><code>|offset|</code><span> and </span><code>Offset/Azimuth</code><span> diagrams and it shows the traces that belong to each bin in the </span><code>trace table</code><span>, thereby facilitating the </span><code>spider plot</code><span> in the Layout pane. In order to do full binning, a large array is required that is maintained in a memory mapped file (</span><code>*.roll.ana.npy</code><span>). If this file becomes too large to keep in random memory, it will result in a lot of swapping to disk, seriously degrading binning performance. So use it wisely, preferably over small areas of interest</span></p></li><li><p><strong><span>Basic binning</span></strong><span> creates the </span><code>fold map</code><span>, and </span><code>min- &amp; max-offsets</code><span> &#39;on the fly&#39; whilst processing source and receiver points. It is relatively fast, but it lacks the above mentioned features.</span></p></li></ol></li><li><p><span>Once binning is completed, you can export the </span><code>fold map</code><span>, and </span><code>min- &amp; max-offsets</code><span> to QGIS, using the buttons in the </span><code>Display pane</code><span>, or using the export options in the </span><code>file menu</code><span>. </span></p></li><li><p><span>First you need to select the appropriate folder, and then give the file a name (</span><em><span>a name is already suggested</span></em><span>) .</span></p></li><li><p><span>Then, automatically, the georeferenced tiff-file will  be imported into the QGIS project</span></p></li><li><p><span>Areas where there is no data in the </span><code>fold map</code><span> or the </span><code>min- &amp; max-offset</code><span> plots will be fully transparent in QGIS</span></p></li><li><p><span>Now you can check </span><em><strong><span>from within QGIS</span></strong></em><span>, whether the edits, or deleted points, still result in acceptable coverage plots </span></p></li></ol><p>&nbsp;</p></div></div>
</body>
</html>